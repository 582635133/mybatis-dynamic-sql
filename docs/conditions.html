<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 24 April 2018 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180424" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MyBatis Dynamic SQL &#x2013; Where Conditions</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
      <script type="text/javascript" src="../js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="../docs/introduction.html" id="bannerLeft"><h2>MyBatis Dynamic SQL</h2>
</a></div>
        <div class="pull-right"><a href="../../" id="bannerRight" title="MyBatis logo"><img src="http://mybatis.github.io/images/mybatis-logo.png"  alt="MyBatis logo"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 24 April 2018<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.1.0</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">User's Guide</li>
    <li><a href="../docs/introduction.html" title="Introduction"><span class="none"></span>Introduction</a>  </li>
    <li><a href="../docs/quickStart.html" title="Quick Start"><span class="none"></span>Quick Start</a>  </li>
    <li><a href="../docs/whereClauses.html" title="WHERE Clause Support"><span class="icon-chevron-down"></span>WHERE Clause Support</a>
      <ul class="nav nav-list">
    <li class="active"><a href="#"><span class="none"></span>WHERE Conditions</a>
  </li>
      </ul>
  </li>
    <li><a href="../docs/select.html" title="SELECT Statements"><span class="none"></span>SELECT Statements</a>  </li>
    <li><a href="../docs/delete.html" title="DELETE Statements"><span class="none"></span>DELETE Statements</a>  </li>
    <li><a href="../docs/insert.html" title="INSERT Statements"><span class="none"></span>INSERT Statements</a>  </li>
    <li><a href="../docs/update.html" title="UPDATE Statements"><span class="none"></span>UPDATE Statements</a>  </li>
    <li><a href="../docs/mybatis3.html" title="MyBatis3 Support"><span class="none"></span>MyBatis3 Support</a>  </li>
    <li><a href="../docs/spring.html" title="Spring Support"><span class="none"></span>Spring Support</a>  </li>
    <li><a href="../docs/howItWorks.html" title="How it Works"><span class="none"></span>How it Works</a>  </li>
    <li><a href="../docs/extending.html" title="Extending the Library"><span class="none"></span>Extending the Library</a>  </li>
    <li><a href="../docs/codingStandards.html" title="Coding Standards"><span class="none"></span>Coding Standards</a>  </li>
    <li><a href="../docs/motivation.html" title="Motivation"><span class="none"></span>Motivation</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Where Conditions</h1>
<p>MyBatis Dynamic SQL supports a wide variety of where clause conditions. All conditions can be combined with &#x201c;and&#x201d; and &#x201c;or&#x201d; operators to create arbitrarily complex where clauses.</p>
<p>In the following examples:</p>

<ul>
  
<li>&#x201c;x&#x201d; and &#x201c;y&#x201d; are values that will be rendered as prepared statement parameters. The resulting SQL is rendered in a format that is compatible with the target runtime (either MyBatis or Spring), but we will show standard prepared statement parameter markers for simplicity.</li>
  
<li>&#x201c;foo&#x201d; and &#x201c;bar&#x201d; are instances of SqlColumn.</li>
</ul>
<div class="section">
<h2><a name="Simple_Conditions"></a>Simple Conditions</h2>
<p>Simple conditions are the most common - they render the basic SQL operators.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Condition </th>
      
<th>Example </th>
      
<th>Result </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>Between </td>
      
<td>where(foo, isBetween(x).and(y)) </td>
      
<td><tt>where foo between ? and ?</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Equals </td>
      
<td>where(foo, isEqualTo(x)) </td>
      
<td><tt>where foo = ?</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Greater Than </td>
      
<td>where(foo, isGreaterThan(x)) </td>
      
<td><tt>where foo &gt; ?</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Greater Than or Equals </td>
      
<td>where(foo, isGreaterThanOrEqualTo(x)) </td>
      
<td><tt>where foo &gt;= ?</tt> </td>
    </tr>
    
<tr class="b">
      
<td>In </td>
      
<td>where(foo, isIn(x, y)) </td>
      
<td><tt>where foo in (?,?)</tt> </td>
    </tr>
    
<tr class="a">
      
<td>In (case insensitive) </td>
      
<td>where(foo, isInCaseInsensitive(x, y)) </td>
      
<td><tt>where upper(foo) in (?,?)</tt> (the framework will transform the values for x and y to upper case)</td>
    </tr>
    
<tr class="b">
      
<td>Less Than </td>
      
<td>where(foo, isLessThan(x)) </td>
      
<td><tt>where foo &lt; ?</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Less Than or Equals </td>
      
<td>where(foo, isLessThanOrEqualTo(x)) </td>
      
<td><tt>where foo &lt;= ?</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Like </td>
      
<td>where(foo, isLike(x)) </td>
      
<td><tt>where foo like ?</tt> (the framework DOES NOT add the SQL wild cards to the value - you will need to do that yourself) </td>
    </tr>
    
<tr class="a">
      
<td>Like (case insensitive) </td>
      
<td>where(foo, isLikeCaseInsensitive(x)) </td>
      
<td><tt>where upper(foo) like ?</tt> (the framework DOES NOT add the SQL wild cards to the value - you will need to do that yourself, the framework will transform the value of x to upper case) </td>
    </tr>
    
<tr class="b">
      
<td>Not Between </td>
      
<td>where(foo, isNotBetween(x).and(y)) </td>
      
<td><tt>where foo not between ? and ?</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Not Equals </td>
      
<td>where(foo, isNotEqualTo(x)) </td>
      
<td><tt>where foo &lt;&gt; ?</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Not In </td>
      
<td>where(foo, isNotIn(x, y)) </td>
      
<td><tt>where foo not in (?,?)</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Not In (case insensitive) </td>
      
<td>where(foo, isNotInCaseInsensitive(x, y)) </td>
      
<td><tt>where upper(foo) not in (?,?)</tt> (the framework will transform the values for x and y to upper case)</td>
    </tr>
    
<tr class="b">
      
<td>Not Like </td>
      
<td>where(foo, isLike(x)) </td>
      
<td><tt>where foo not like ?</tt> (the framework DOES NOT add the SQL wild cards to the value - you will need to do that yourself) </td>
    </tr>
    
<tr class="a">
      
<td>Not Like (case insensitive) </td>
      
<td>where(foo, isNotLikeCaseInsensitive(x)) </td>
      
<td><tt>where upper(foo) not like ?</tt> (the framework DOES NOT add the SQL wild cards to the value - you will need to do that yourself, the framework will transform the value of x to upper case) </td>
    </tr>
    
<tr class="b">
      
<td>Not Null </td>
      
<td>where(foo, isNotNull()) </td>
      
<td><tt>where foo is not null</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Null </td>
      
<td>where(foo, isNull()) </td>
      
<td><tt>where foo is null</tt> </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Sub-Selects"></a>Sub-Selects</h2>
<p>Many conditions can be rendered with sub selects.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Condition </th>
      
<th>Example </th>
      
<th>Result </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>Equals </td>
      
<td>where(foo, isEqualTo(select(bar).from(table2).where(bar, isEqualTo(x))) </td>
      
<td><tt>where foo = (select bar from table2 where bar = ?)</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Greater Than </td>
      
<td>where(foo, isGreaterThan(select(bar).from(table2).where(bar, isEqualTo(x))) </td>
      
<td><tt>where foo &gt; (select bar from table2 where bar = ?)</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Greater Than or Equals </td>
      
<td>where(foo, isGreaterThanOrEqualTo(select(bar).from(table2).where(bar, isEqualTo(x))) </td>
      
<td><tt>where foo &gt;= (select bar from table2 where bar = ?)</tt> </td>
    </tr>
    
<tr class="a">
      
<td>In </td>
      
<td>where(foo, isIn(select(bar).from(table2).where(bar, isLessThan(x))) </td>
      
<td><tt>where foo in (select bar from table2 where bar &lt; ?)</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Less Than </td>
      
<td>where(foo, isLessThan(select(bar).from(table2).where(bar, isEqualTo(x))) </td>
      
<td><tt>where foo &lt; (select bar from table2 where bar = ?)</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Less Than or Equals </td>
      
<td>where(foo, isLessThanOrEqualTo(select(bar).from(table2).where(bar, isEqualTo(x))) </td>
      
<td><tt>where foo &lt;= (select bar from table2 where bar = ?)</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Not Equals </td>
      
<td>where(foo, isNotEqualTo(select(bar).from(table2).where(bar, isEqualTo(x))) </td>
      
<td><tt>where foo &lt;&gt; (select bar from table2 where bar = ?)</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Not In </td>
      
<td>where(foo, isNotIn(select(bar).from(table2).where(bar, isLessThan(x))) </td>
      
<td><tt>where foo not in (select bar from table2 where bar &lt; ?)</tt> </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Column_Comparison_Conditions"></a>Column Comparison Conditions</h2>
<p>Column comparison conditions can be used to write where clauses comparing the values of columns in a table.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Condition </th>
      
<th>Example </th>
      
<th>Result </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>Equals </td>
      
<td>where(foo, isEqualTo(bar)) </td>
      
<td><tt>where foo = bar</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Greater Than </td>
      
<td>where(foo, isGreaterThan(bar)) </td>
      
<td><tt>where foo &gt; bar</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Greater Than or Equals </td>
      
<td>where(foo, isGreaterThanOrEqualTo(bar)) </td>
      
<td><tt>where foo &gt;= bar</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Less Than </td>
      
<td>where(foo, isLessThan(bar)) </td>
      
<td><tt>where foo &lt; bar</tt> </td>
    </tr>
    
<tr class="b">
      
<td>Less Than or Equals </td>
      
<td>where(foo, isLessThanOrEqualTo(bar)) </td>
      
<td><tt>where foo &lt;= bar</tt> </td>
    </tr>
    
<tr class="a">
      
<td>Not Equals </td>
      
<td>where(foo, isNotEqualTo(bar)) </td>
      
<td><tt>where foo &lt;&gt; bar</tt> </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Optional_Conditions"></a>Optional Conditions</h2>
<p>The optional conditions will only render into the final SQL if they are valid.</p>
<p>For example, you could code a search like this:</p>

<div class="source">
<div class="source"><pre class="prettyprint">    public List&lt;AnimalData&gt; searchPeople(String animalName_, Double bodyWeight_, Double brainWeight_) {
        ...
        SelectStatementProvider selectStatement = select(id, animalName, bodyWeight, brainWeight)
                .from(animalData)
                .where(animalName, isEqualToWhenPresent(animalName_))
                .and(bodyWeight, isEqualToWhenPresent(bodyWeight_))
                .and(brainWeight, isEqualToWhenPresent(brainWeight_))
                .build()
                .render(RenderingStrategy.MYBATIS3);
        ...
    }
</pre></div></div>
<p>In this example, the three conditions are optional and will only be rendered if the values passed to them are not null. If all three values are null, then no where clause will be generated.</p>
<p>The optional conditions render similarly to their counterpart simple conditions. The table below lists the rendering rules for each optional condition. </p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Condition </th>
      
<th>Example </th>
      
<th>Rendering Rules </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>Between</td>
      
<td>where(foo, isBetweenWhenPresent(x).and(y)) </td>
      
<td>The condition will render if both x and y values are non-null </td>
    </tr>
    
<tr class="a">
      
<td>Equals </td>
      
<td>where(foo, isEqualToWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="b">
      
<td>Greater Than </td>
      
<td>where(id, isGreaterThanWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="a">
      
<td>Greater Than or Equals </td>
      
<td>where(id, isGreaterThanOrEqualToThanWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="b">
      
<td>In </td>
      
<td>where(id, isInWhenPresent(x, y)) </td>
      
<td>The condition will filter all null values out of the list, and will render if any non-null values remain </td>
    </tr>
    
<tr class="a">
      
<td>In Case Insensitive </td>
      
<td>where(id, isInCaseInsensitiveWhenPresent(x, y)) </td>
      
<td>The condition will filter all null values out of the list, and will render if any non-null values remain </td>
    </tr>
    
<tr class="b">
      
<td>Less Than </td>
      
<td>where(id, isLessThanWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="a">
      
<td>Less Than or Equals </td>
      
<td>where(id, isLessThanOrEqualToThanWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="b">
      
<td>Like </td>
      
<td>where(id, isLikeWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="a">
      
<td>Like Case Insensitive </td>
      
<td>where(id, isLikeCaseInsensitiveWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="b">
      
<td>Not Between </td>
      
<td>where(id, isNotBetweenWhenPresent(x).and(y)) </td>
      
<td>The condition will render if both x and y values are non-null </td>
    </tr>
    
<tr class="a">
      
<td>Not Equals </td>
      
<td>where(id, isNotEqualToWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="b">
      
<td>Not In </td>
      
<td>where(id, isNotInWhenPresent(x, y)) </td>
      
<td>The condition will filter all null values out of the list, and will render if any non-null values remain </td>
    </tr>
    
<tr class="a">
      
<td>Not In Case Insensitive </td>
      
<td>where(id, isNotInCaseInsensitiveWhenPresent(x, y)) </td>
      
<td>The condition will filter all null values out of the list, and will render if any non-null values remain </td>
    </tr>
    
<tr class="b">
      
<td>Not Like </td>
      
<td>where(id, isNotLikeWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
    
<tr class="a">
      
<td>Not Like Case Insensitive </td>
      
<td>where(id, isNotLikeCaseInsensitiveWhenPresent(x)) </td>
      
<td>The condition will render if x is non-null </td>
    </tr>
  </tbody>
</table></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2016&#x2013;2018
<a href="http://www.mybatis.org/">MyBatis.org</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>

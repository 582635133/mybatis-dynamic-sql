<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 19 November 2017 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20171119" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MyBatis Dynamic SQL &#x2013; Extending MyBatis Dynamic SQL</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
      <script type="text/javascript" src="../js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="../docs/introduction.html" id="bannerLeft"><h2>MyBatis Dynamic SQL</h2>
</a></div>
        <div class="pull-right"><a href="../../" id="bannerRight" title="MyBatis logo"><img src="http://mybatis.github.io/images/mybatis-logo.png"  alt="MyBatis logo"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 19 November 2017<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.5.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">User's Guide</li>
    <li><a href="../docs/introduction.html" title="Introduction"><span class="none"></span>Introduction</a>  </li>
    <li><a href="../docs/quickStart.html" title="Quick Start"><span class="none"></span>Quick Start</a>  </li>
    <li><a href="../docs/whereClauses.html" title="WHERE Clause Support"><span class="none"></span>WHERE Clause Support</a>  </li>
    <li><a href="../docs/select.html" title="SELECT Statements"><span class="none"></span>SELECT Statements</a>  </li>
    <li><a href="../docs/delete.html" title="DELETE Statements"><span class="none"></span>DELETE Statements</a>  </li>
    <li><a href="../docs/insert.html" title="INSERT Statements"><span class="none"></span>INSERT Statements</a>  </li>
    <li><a href="../docs/update.html" title="UPDATE Statements"><span class="none"></span>UPDATE Statements</a>  </li>
    <li><a href="../docs/spring.html" title="Spring Support"><span class="none"></span>Spring Support</a>  </li>
    <li><a href="../docs/howItWorks.html" title="How it Works"><span class="none"></span>How it Works</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Extending the Library</a>
  </li>
    <li><a href="../docs/codingStandards.html" title="Coding Standards"><span class="none"></span>Coding Standards</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="../project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Extending MyBatis Dynamic SQL</h1>
<p>The library has been design for extension from the very start of the design. We do not believe that the library covers all possible uses and we wanted to make it easy to add functionality that suits the needs of dependent projects.</p>
<p>This page details the main extension points of the library. </p>
<div class="section">
<h2><a name="Writing_a_Custom_Where_Condition"></a>Writing a Custom Where Condition</h2>
<p>TODO&#x2026;</p></div>
<div class="section">
<h2><a name="Supporting_Calculated_Columns"></a>Supporting Calculated Columns</h2>
<p>TODO&#x2026;</p></div>
<div class="section">
<h2><a name="Writing_Custom_Rendering_Strategies"></a>Writing Custom Rendering Strategies</h2>
<p>A RenderingStrategy is used to format the parameter placeholders in generated SQL. The library ships with two built-in rendering strategies:</p>

<ol style="list-style-type: decimal">
  
<li>A strategy that is suitable for MyBatis3. This strategy generates placeholders in the format required by MyBatis3 (for example <tt>#{foo,jdbcType=INTEGER}</tt>).</li>
  
<li>A strategy that is suitable for the Spring NamedParameterJDBCTemplate. This strategy generates placeholders in the format required by Spring (for example <tt>:foo</tt>).</li>
</ol>
<p>You can write a custom rendering strategy if you want to use the library with some other framework. For example, if you wanted to use the library to generate SQL that could be prepared directly by JDBC, you could write a rendering strategy that simply uses the question mark (<tt>?</tt>) for all parameters.</p>

<div class="source">
<div class="source"><pre class="prettyprint">import org.mybatis.dynamic.sql.SqlColumn;
import org.mybatis.dynamic.sql.render.RenderingStrategy;

public class PlainJDBCRenderingStrategy extends RenderingStrategy {
    @Override
    public String getFormattedJdbcPlaceholder(SqlColumn&lt;?&gt; column, String prefix, String parameterName) {
        return &quot;?&quot;;
    }
}

</pre></div></div>
<p>The library will pass the following parameters to the <tt>getFormattedJdbcPlaceholder</tt> method:</p>

<ol style="list-style-type: decimal">
  
<li><tt>column</tt> - the column definition for the current placeholder</li>
  
<li><tt>prefix</tt> - For INSERT statements the value will be &#x201c;record&#x201d;, for all other statements (including inserts with selects) the value will be &#x201c;parameters&#x201d;</li>
  
<li><tt>parameterName</tt> - this will be the unique name for the the parameter. For INSERT statements, the name will be the property of the inserted record that is mapped to this parameter. For all other statements (including inserts with selects) a unique name will be generated by the library. That unique name will also be used to place the value of the parameter into the parameters Map.</li>
</ol></div>
<div class="section">
<h2><a name="Writing_Custom_Renderers"></a>Writing Custom Renderers</h2>
<p>SQL rendering is accomplished be classes that are decoupled from the SQL model classes. All the model classes have a <tt>render</tt> method that calls the built-in default renderers. But this is completely optional and you do not need to use it. You can write your own rendering support if you are dissatisfied with the SQL produced by the default renderers.</p>
<p>Writing a custom renderer is quite complex. If you want to undertake that task, we suggest that you take the time to understand how the default renderers work first. And feel free to ask questions about this topic on the MyBatis mailing list.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2016&#x2013;2017
<a href="http://www.mybatis.org/">MyBatis.org</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
